<odoo>
    <data>
        <record model="ir.ui.view" id="izi_product_search_card_form">
            <field name="name">izi_product_search_card form view</field>
            <field name="model">izi.product.search.card</field>
            <field name="arch" type="xml">
                <form string="Product searial search">
                    <sheet>
                        <h2>
                            <div style="margin-left:100px">Search infomation
                            </div>
                        </h2>
                        <h2>
                            <group>
                                <group>
                                    <!--<field name="partner_id" options="{'no_create':1, 'no_create_edit':1}"/>-->
                                    <field name="serial" string="" widget="enter2action"
                                           attrs="{'action_element_class': '.izi_btn_action_check_card'}"/>
                                    <field required="1" name="brand_id" options="{'no_create':1, 'no_create_edit':1}"/>
                                    <field name="is_load_image"/>
                                </group>
                                <group>
                                    <button name="action_check_card" type="object" string="Search"
                                            class="oe_highlight izi_btn_action_check_card"/>
                                </group>
                            </group>
                        </h2>
                        <field name="check_card" invisible="1"/>
                        <field name="check_pmh" invisible="1"/>
                        <field name="name" invisible="1"/>
                        <group attrs="{'invisible': ['|',('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">
                            <group>
                                <field name="x_name" readonly="1"/>
                                <field name="x_code" readonly="1"/>
                                <field name="x_old_code" readonly="1"/>
                                <field name="x_birthday" readonly="1"/>
                                <field name="x_sex" readonly="1"/>
                                <field name="x_crm_lead_tag_ids" widget="many2many_tags" readonly="1"/>
                                <field name="x_link_facebook" readonly="1"/>
                                <field name="x_link_zalo" readonly="1"/>
                                <!--<field name="x_rank" readonly="1"/>-->
                                <!--<field name="old_revenue" readonly="1"/>-->
                                <!--<field name="total_revenue" readonly="1"/>-->
                                <!--<field name="credit" string="Công nợ" readonly="1"/>-->
                            </group>
                            <group>
                                <field name="email" widget="email" required="context.get('force_email', False)"
                                       readonly="1"/>
                                <field name="phone" readonly="1"/>
                                <field name="mobile" readonly="1"/>
                                <field name="x_manage_user_id" options="{'no_open':1}" readonly="1"/>
                            </group>
                        </group>
                        <div>
                            <button name="action_create_pos_order" type="object" class="oe_highlight" string="Create Order" style="margin-left:5px"/>
                            <button name="action_create_pos_coin" type="object" class="oe_highlight" string="Create Coin" style="margin-left:5px"/>
                            <button name="action_create_deposit" type="object" class="oe_highlight" string="Create Deposit" style="margin-left:5px"/>
                            <button name="action_create_using" type="object" class="oe_highlight" string="Use Service" style="margin-left:5px"/>
                            <button name="action_booking" type="object" class="oe_highlight" string="Booking" style="margin-left:5px"/>
                            <button name="action_meeting" type="object" class="oe_highlight" string="Meeting" style="margin-left:5px"/>
                        </div>
                        <notebook>
                            <!--<page string="Voucher/Coupon"-->
                                  <!--attrs="{'invisible': ['|',('serial','=', False),('check_pmh','=', False)]}">-->
                                <!--<field name="pmh_ids" readonly="1">-->
                                    <!--<tree default_order='name desc' decoration-muted="(x_status=='used' or  (life_date &lt; date_today))" decoration-it="(x_status=='used' or  (life_date &lt; date_today))">-->
                                        <!--<field name="order_id" string="Order"/>-->
                                        <!--<field name="name" string="Code"/>-->
                                        <!--<field name="product_id" string="Product"/>-->
                                        <!--<field name="life_date" string="Expridate"/>-->
                                        <!--<field name="x_customer_id" string="Customer"/>-->
                                        <!--<field name="x_user_id" string="User"/>-->
                                        <!--<field name="x_discount" string="Discount"/>-->
                                        <!--<field name="x_amount" string="Amount"/>-->
                                        <!--<field name="x_status" string="Status"/>-->
                                        <!--<field name="order_payment_id" string="Order payment"/>-->
                                        <!--<field name="date_today" invisible="1"/>-->
                                    <!--</tree>-->
                                <!--</field>-->
                            <!--</page>-->
                            <page string="Cards service"
                                  attrs="{'invisible': ['|',('serial','=', False),('check_card','=', False)]}">
                                <field name="card_ids" readonly="1">
                                    <tree default_order='name desc' decoration-muted="(x_status=='used' or x_status=='destroy')" decoration-it="(x_status=='used' or x_status=='destroy')" decoration-bf="(x_status == 'using' and (life_date &gt; date_today))" decoration-info="(x_status == 'using' and (life_date &gt; date_today))">
                                        <field name="order_id" string="Order"/>
                                        <field name="name" string="Code"/>
                                        <field name="product_id" string="Product"/>
                                        <field name="life_date" string="Expridate"/>
                                        <field name="x_customer_id" string="Customer"/>
                                        <field name="x_amount" string="Amount"/>
                                        <field name="x_status" string="Status"/>
                                        <field name="date_today" invisible="1"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Services"
                                  attrs="{'invisible': ['|',('serial','=', False),('check_card','=', False)]}">
                                <field name="card_detail_ids" readonly="1">
                                    <tree default_order='lot_id desc' decoration-muted="state == 'cancel'"  decoration-it="(state == 'cancel' or (life_date &lt; date_today))" decoration-bf="(state == 'ready' and total_qty != qty_use)" decoration-info="(state == 'ready' and total_qty != qty_use and (life_date &gt; date_today) and debit == False)" decoration-danger="(state == 'ready' and total_qty != qty_use and (life_date &gt; date_today) and debit == True)">
                                        <field name="lot_id"/>
                                        <field name="life_date" invisible="1"/>
                                        <field name="product_id"/>
                                        <field name="total_qty"/>
                                        <field name="qty_hand"/>
                                        <field name="qty_use"/>
                                        <field name="price_unit"/>
                                        <field name="amount_total"/>
                                        <field name="remain_amount"/>
                                        <!--<field name="payment_amount"/>-->
                                        <field name="state"/>
                                        <field name="date_today" invisible="1"/>
                                        <field name="debit" invisible="1"/>
                                        <field name="note"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="History use service"
                                  attrs="{'invisible': ['|',('serial','=', False),('check_card','=', False)]}">
                                <button name="action_print_history_use_service" class="oe_highlight" string="Print" type="object"/>
                                <field name="use_card_ids" readonly="1">
                                    <tree default_order='using_id desc' decoration-muted="state=='cancel'" decoration-it="state=='cancel'">
                                        <field name="type"/>
                                        <field name="order_id" string="Order"/>
                                        <field name="using_id" string="Use Service"/>
                                        <field name="redeem_date"/>
                                        <field name="employee"/>
                                        <field name="serial_id"/>
                                        <field name="service_id"/>
                                        <field name="uom_id"/>
                                        <field name="quantity"/>
                                        <field name="price_unit"/>
                                        <field name="state"/>
                                        <field name="customer_sign" widget="image" groups="pos_security.group_pos_supervisor_user"/>
                                        <field name="note"/>
                                    </tree>
                                    <form>
                                        <group>
                                            <group>
                                                <field name="order_id" string="Order"/>
                                                <field name="using_id" string="Use Service"
                                                       context="{'form_view_ref':'izi_use_service_card.use_service_card_form'}"/>
                                                <field name="redeem_date"/>
                                                <field name="employee"/>
                                            </group>
                                            <group>
                                                <field name="serial_id"/>
                                                <field name="service_id"/>
                                                <field name="uom_id"/>
                                                <field name="quantity"/>
                                                <field name="price_unit"/>
                                            </group>
                                            <label for="note"/>
                                            <field name="note"/>
                                        </group>
                                    </form>
                                </field>
                            </page>
                            <page string="History exchange service"
                                  attrs="{'invisible': ['|',('serial','=', False),('check_card','=', False)]}">
                                <field name="current_detail_line_ids" readonly="1">
                                    <tree editable="bottom" create="false">
                                        <field name="date" readonly="1"/>
                                        <field name="lot_id" readonly="1"/>
                                        <field name="service_id" readonly="1"/>
                                        <field name="total_count" readonly="1"/>
                                        <field name="hand_count" readonly="1"/>
                                        <field name="used_count" readonly="1"/>
                                        <field name="to_subtract_count"/>
                                        <field name="price_unit" readonly="1" widget="monetary"/>
                                        <field name="amount_subtract" widget="monetary"/>
                                        <field name="exchange_detail_id"/>
                                    </tree>
                                    <form>
                                        <group>
                                            <group>
                                                <field name="date"/>
                                                <field name="lot_id" readonly="1" context="{'form_view_ref':'izi_pos_exchange_service.izi_stock_production_lot_form'}"/>
                                                <field name="service_id" readonly="1"/>
                                                <field name="total_count" readonly="1"/>
                                                <field name="hand_count" readonly="1"/>
                                                <field name="used_count" readonly="1"/>
                                            </group>
                                            <group>
                                                <field name="to_subtract_count"/>
                                                <field name="price_unit" readonly="1" widget="monetary"/>
                                                <field name="amount_subtract" widget="monetary"/>
                                                <field name="exchange_detail_id" context="{'form_view_ref':'izi_pos_exchange_service.izi_pos_exchange_service_form'}"/>
                                            </group>
                                        </group>
                                    </form>
                                </field>
                                <!--<field name="exchange_card_ids" readonly="1">-->
                                <!--<tree default_order='exchange_date desc'>-->
                                <!--<field name="session_id"/>-->
                                <!--<field name="exchange_id" string="Exchange"/>-->
                                <!--<field name="exchange_date"/>-->
                                <!--</tree>-->
                                <!--<form create="0" edit="0">-->
                                <!--<group>-->
                                <!--<group>-->
                                <!--<field name="session_id" readonly="1"/>-->
                                <!--</group>-->
                                <!--<group>-->
                                <!--<field name="exchange_id" readonly="1"-->
                                <!--context="{'form_view_ref':'izi_pos_exchange_service.izi_pos_exchange_service_form'}"/>-->
                                <!--<field name="exchange_date" readonly="1"/>-->
                                <!--</group>-->
                                <!--</group>-->
                                <!--<notebook colspan="4">-->
                                <!--<page string="General">-->
                                <!--<div style="padding-top:20px;padding-bottom:20px">-->
                                <!--<b>Current details</b>-->
                                <!--</div>-->
                                <!--<field name="current_detail_line_ids">-->
                                <!--<tree editable="bottom" create="false">-->
                                <!--<field name="service_id" readonly="1"/>-->
                                <!--<field name="total_count" readonly="1"/>-->
                                <!--<field name="hand_count" readonly="1"/>-->
                                <!--<field name="used_count" readonly="1"/>-->
                                <!--<field name="to_subtract_count"/>-->
                                <!--<field name="price_unit" readonly="1" widget="monetary"/>-->
                                <!--<field name="amount_subtract" widget="monetary"/>-->
                                <!--</tree>-->
                                <!--</field>-->
                                <!--<div style="padding-top:20px;padding-bottom:20px">-->
                                <!--<b>New details</b>-->
                                <!--</div>-->
                                <!--<field name="new_service_detail_line_ids">-->
                                <!--<tree editable="bottom">-->
                                <!--<field name="service_id" domain="[('type', '=', 'service')]"-->
                                <!--required="1"/>-->
                                <!--<field name="new_count"/>-->
                                <!--<field name="price_unit" widget="monetary" readonly="1"/>-->
                                <!--<field name="amount_total" widget="monetary"/>-->

                                <!--</tree>-->
                                <!--</field>-->
                                <!--</page>-->
                                <!--</notebook>-->
                                <!--</form>-->
                                <!--</field>-->
                            </page>
                            <page string="Destroy Service" attrs="{'invisible': ['|',('serial','=', False),('check_card','=', False)]}">
                                <field name="destroy_service_ids" readonly="1">
                                    <tree>
                                        <field name="date"/>
                                        <field name="lot_id" context="{'form_view_ref':'pos_destroy_service.izi_stock_production_lot_form_destroy_service'}"/>
                                        <field name="service_id" readonly="1"/>
                                        <field name="new_count"/>
                                        <field name="price_unit"/>
                                        <field name="pos_destroy_service_id"/>
                                    </tree>
                                    <form>
                                        <group>
                                            <group>
                                                <field name="date"/>
                                                <field name="lot_id" context="{'form_view_ref':'pos_destroy_service.izi_stock_production_lot_form_destroy_service'}"/>
                                                <field name="service_id" readonly="1"/>
                                            </group>
                                            <group>
                                                <field name="new_count"/>
                                                <field name="price_unit"/>
                                                <field name="pos_destroy_service_id"/>
                                            </group>
                                        </group>
                                    </form>
                                </field>
                            </page>
                            <page string="History order"
                                  attrs="{'invisible': ['|',('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">
                                <field name="order_ids" readonly="1">
                                    <tree default_order='date_order desc'>
                                        <field name="order_id"/>
                                        <field name="date_order"/>
                                        <field name="user_id"/>
                                        <field name="product_id"/>
                                        <field name="lot_name"/>
                                        <field name="qty"/>
                                        <field name="price_unit"/>
                                        <field name="discount"/>
                                        <field name="x_discount"/>
                                        <field name="price_subtotal_incl"/>
                                        <field name="state"/>
                                        <field name="x_type" invisible="1"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Virtual Money"
                                  attrs="{'invisible': ['|',('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">
                                <field name="virtual_money_ids" readonly="1">
                                    <tree default_order='order_id desc' decoration-muted="state=='cancel' or money == money_used" decoration-it="state=='cancel' or money == money_used">
                                        <field name="order_id"/>
                                        <field name="typex"/>
                                        <field name="money"/>
                                        <field name="money_order"/>
                                        <field name="payment_amount"/>
                                        <field name="debt_amount"/>
                                        <field name="money_used"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                                <div class="oe_clear"/>
                                <group class="oe_subtotal_footer oe_right" colspan="2" name="total">
                                    <label for="amount_total_money"/>
                                    <field name="amount_total_money" nolabel="1" widget="monetary"/>
                                    <label for="amount_money"/>
                                    <field name="amount_money" nolabel="1" widget="monetary"/>
                                </group>
                                <div class="oe_clear"/>
                            </page>
                            <page string="History use vitual money"
                                  attrs="{'invisible': ['|',('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">
                                <field name="virtual_money_history_ids" readonly="1">
                                    <tree default_order='order_id desc'>
                                        <field name="order_id"/>
                                        <field name="amount"/>
                                        <field name="service"/>
                                        <field name="date" string="Used date"/>
                                    </tree>
                                </field>
                                <div class="oe_clear"/>
                                <group class="oe_subtotal_footer oe_right" colspan="2" name="order_total">
                                    <label for="amount_money_use"/>
                                    <field name="amount_money_use" nolabel="1" widget="monetary"/>
                                </group>
                                <div class="oe_clear"/>
                            </page>
                            <!--<page string="Point"-->
                                  <!--attrs="{'invisible': ['|',('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">-->
                                <!--<field name="x_point_history_ids" readonly="1">-->
                                    <!--<tree>-->
                                        <!--<field name="order_id"/>-->
                                        <!--<field name="date"/>-->
                                        <!--<field name="point"/>-->
                                        <!--<field name="exchange_id"/>-->
                                    <!--</tree>-->
                                <!--</field>-->
                                <!--<group class="oe_subtotal_footer oe_right">-->
                                    <!--<div class="oe_inline">-->
                                        <!--<label for="x_total_point"/>-->
                                    <!--</div>-->
                                    <!--<field name="x_total_point" nolabel="1"-->
                                           <!--widget="monetary" options="{'currency_field': 'currency_id'}"/>-->
                                <!--</group>-->
                            <!--</page>-->
                            <!--<page string="Revenue"-->
                                  <!--attrs="{'invisible': ['|',('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">-->
                                <!--<field name="x_revenue_ids" readonly="1">-->
                                    <!--<tree>-->
                                        <!--<field name="order_id"/>-->
                                        <!--<field name="journal_id"/>-->
                                        <!--<field name="date"/>-->
                                        <!--<field name="amount"/>-->
                                    <!--</tree>-->
                                <!--</field>-->
                                <!--<group class="oe_subtotal_footer oe_right">-->
                                    <!--<div class="oe_inline">-->
                                        <!--<label for="x_total_revenue"/>-->
                                    <!--</div>-->
                                    <!--<field name="x_total_revenue" nolabel="1"-->
                                           <!--widget="monetary" options="{'currency_field': 'currency_id'}"/>-->
                                <!--</group>-->
                            <!--</page>-->
                            <!--<page string="Vip history"-->
                                  <!--attrs="{'invisible': ['|',('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">-->
                                <!--<field name="vip_history_ids" readonly="1">-->
                                    <!--<tree>-->
                                        <!--<field name="date" string="Ngày yêu cầu"/>-->
                                        <!--<field name="rank_current"/>-->
                                        <!--<field name="rank_request"/>-->
                                        <!--<field name="approved_uid"/>-->
                                        <!--<field name="approved_date"/>-->
                                        <!--<field name="state"/>-->
                                    <!--</tree>-->
                                <!--</field>-->
                            <!--</page>-->
                            <!--<page string="Debit product"-->
                                  <!--attrs="{'invisible': ['|',('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">-->
                                <!--<field name="debit_product_ids" readonly="1">-->
                                    <!--<tree decoration-danger="qty_transfer &gt; 0" decoration-muted="qty_debit == 0">-->
                                        <!--<field name="debit_id" string="Debit goods" context="{'form_view_ref':'pos_destroy_service.izi_stock_production_lot_form_destroy_service'}"/>-->
                                        <!--<field name="product_id"/>-->
                                        <!--<field name="qty"/>-->
                                        <!--<field name="qty_depot"/>-->
                                        <!--<field name="qty_debit"/>-->
                                        <!--<field name="qty_transfer"/>-->
                                        <!--<field name="order_id"/>-->
                                        <!--<field name="date"/>-->
                                        <!--<field name="note"/>-->
                                        <!--&lt;!&ndash;<field name="state"/>&ndash;&gt;-->
                                    <!--</tree>-->
                                <!--</field>-->
                            <!--</page>-->
                            <page string="Invoice"
                                  attrs="{'invisible': ['|',('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">
                                <field name="invoice_ids" readonly="1">
                                    <tree>
                                        <field name="order_id"/>
                                        <field name="number"/>
                                        <field name="invoice_id"/>
                                        <field name="amount_total"/>
                                        <field name="residual"/>
                                        <field name="date_invoice"/>
                                        <field name="date_due"/>
                                        <field name="state"/>
                                        <button name="action_preview_invoice" type="object" string="Preview"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Deposit"
                                  attrs="{'invisible': ['|',('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">
                                <field name="deposit_ids" readonly="1">
                                    <tree>
                                        <field name="deposit_id"/>
                                        <field name="session_id"/>
                                        <field name="order_id"/>
                                        <field name="amount"/>
                                        <field name="date"/>
                                        <field name="type"/>
                                        <field name="note"/>
                                    </tree>
                                </field>
                                <group class="oe_subtotal_footer oe_right">
                                    <div class="oe_inline">
                                        <label for="total_deposit"/>
                                    </div>
                                    <field name="total_deposit" nolabel="1"
                                           widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                </group>
                            </page>
                            <page string="History Payment Invoice"
                                  attrs="{'invisible': ['|',('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">
                                <field name="make_payment_ids" readonly="1">
                                    <tree>
                                        <field name="invoice_ids" widget="many2many_tags"/>
                                        <field name="payment_id"/>
                                        <field name="payment_date"/>
                                        <field name="amount"/>
                                        <field name="journal_id"/>
                                    </tree>
                                </field>
                            </page>
                            <!--<page string="History Return Product"-->
                                  <!--attrs="{'invisible': ['|',('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">-->
                                <!--<field name="return_product_ids" readonly="1">-->
                                    <!--<tree>-->
                                        <!--<field name="picking_id"/>-->
                                        <!--<field name="debit_good_id"/>-->
                                        <!--<field name="product_id"/>-->
                                        <!--<field name="quantity_done"/>-->
                                        <!--<field name="product_uom"/>-->
                                        <!--<field name="scheduled_date"/>-->
                                    <!--</tree>-->
                                <!--</field>-->
                            <!--</page>-->
                            <!--<page string="Calender Service Reminder" attrs="{'invisible': ['|',('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">-->
                                <!--<field name="service_calender_ids" readonly="1">-->
                                    <!--<tree default_order='date desc'>-->
                                        <!--<field name="master_type"/>-->
                                        <!--<field name="product_id"/>-->
                                        <!--<field name="date"/>-->
                                        <!--<field name="type"/>-->
                                        <!--<field name="total_quantity"/>-->
                                        <!--<field name="quantity_used"/>-->
                                        <!--<field name="description"/>-->
                                        <!--<field name="employee_id"/>-->
                                        <!--<field name="note"/>-->
                                        <!--<field name="note_before_custom"/>-->
                                        <!--<field name="service_calender_reminder_id"/>-->
                                    <!--</tree>-->
                                <!--</field>-->
                            <!--</page>-->
                            <page string="Image" attrs="{'invisible': ['|', '|', ('is_load_image', '=', False), ('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">
                                <field name="image_ids" readonly="1">
                                    <tree>
                                        <field name="use_service_id"/>
                                        <field name="date"/>
                                        <field name="image" widget="image" style="max-width:430px;max-height:430px;"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Note"
                                  attrs="{'invisible': ['|',('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">
                                <field name="x_partner_note_ids" readonly="1">
                                    <tree>
                                        <field name="note"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>


        <record id="action_izi_product_search_card" model="ir.actions.act_window">
            <field name="name">Product serial search</field>
            <field name="res_model">izi.product.search.card</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="domain">[]</field>
            <field name="context">{}</field>
            <field name="target">inline</field>
        </record>

        <record model="ir.actions.act_window.view" id="izi_action_product_search_card_form">
            <field name="sequence" eval="2"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="izi_product_search_card_form"/>
            <field name="act_window_id" ref="action_izi_product_search_card"/>
        </record>

        <menuitem action="action_izi_product_search_card" groups="point_of_sale.group_pos_user"
                  id="menu_action_izi_product_search_card" name="Product Serial Search"
                  parent="izi_pos_custom_backend.izi_menu_res_partner_debt" sequence="60"/>

        <record model="ir.ui.view" id="izi_product_search_card_form_default_user">
            <field name="name">izi_product_search_card form view default user</field>
            <field name="model">izi.product.search.card</field>
            <field name="arch" type="xml">
                <form string="Product searial search default user">
                    <sheet>
                        <h2>
                            <div style="margin-left:100px">Search infomation (Card service code, customer code or
                                phone)
                            </div>
                        </h2>
                        <h2>
                            <group>
                                <group>
                                    <field name="serial" string="" widget="enter2action"
                                           attrs="{'action_element_class': '.izi_btn_action_check_card'}"/>
                                    <field required="1" name="brand_id" options="{'no_create':1, 'no_create_edit':1}"/>
                                    <field name="is_load_image"/>
                                </group>
                                <group>
                                    <button name="action_check_card" type="object" string="Search"
                                            class="oe_highlight izi_btn_action_check_card"/>
                                </group>
                            </group>
                        </h2>
                        <field name="check_card" invisible="1"/>
                        <field name="check_pmh" invisible="1"/>
                        <field name="name" invisible="1"/>
                        <group attrs="{'invisible': ['|',('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">
                            <group>
                                <field name="x_name" readonly="1"/>
                                <field name="x_code" readonly="1"/>
                                <field name="x_old_code" readonly="1"/>
                                <field name="x_birthday" readonly="1"/>
                                <field name="x_sex" readonly="1"/>
                                <field name="x_crm_lead_tag_ids" widget="many2many_tags" readonly="1"/>
                                <field name="x_link_facebook" readonly="1"/>
                                <field name="x_link_zalo" readonly="1"/>
                                <!--<field name="x_rank" readonly="1"/>-->
                                <!--<field name="old_revenue" readonly="1"/>-->
                                <!--<field name="total_revenue" readonly="1"/>-->
                                <!--<field name="credit" string="Công nợ" readonly="1"/>-->
                            </group>
                            <group>
                                <field name="email" widget="email" required="context.get('force_email', False)"
                                       readonly="1"/>
                                <field name="phone" readonly="1"/>
                                <field name="mobile" readonly="1"/>
                                <field name="x_manage_user_id" options="{'no_open':1}" readonly="1"/>
                            </group>
                        </group>
                        <notebook>
                            <!--<page string="Services"-->
                                  <!--attrs="{'invisible': ['|',('serial','=', False),('check_card','=', False)]}">-->
                                <!--<field name="card_detail_ids" readonly="1">-->
                                    <!--<tree default_order='lot_id desc' decoration-muted="state == 'cancel'"  decoration-it="(state == 'cancel' or (life_date &lt; date_today))" decoration-bf="(state == 'ready' and total_qty != qty_use)" decoration-info="(state == 'ready' and total_qty != qty_use and (life_date &gt; date_today) and debit == False)" decoration-danger="(state == 'ready' and total_qty != qty_use and (life_date &gt; date_today) and debit == True)">-->
                                        <!--<field name="lot_id"/>-->
                                        <!--<field name="life_date" invisible="1"/>-->
                                        <!--<field name="product_id"/>-->
                                        <!--<field name="total_qty"/>-->
                                        <!--<field name="qty_hand"/>-->
                                        <!--<field name="qty_use"/>-->
                                        <!--&lt;!&ndash;<field name="price_unit"/>&ndash;&gt;-->
                                        <!--&lt;!&ndash;<field name="amount_total"/>&ndash;&gt;-->
                                        <!--&lt;!&ndash;<field name="remain_amount"/>&ndash;&gt;-->
                                        <!--&lt;!&ndash;<field name="payment_amount"/>&ndash;&gt;-->
                                        <!--<field name="state"/>-->
                                        <!--<field name="date_today" invisible="1"/>-->
                                        <!--<field name="debit" invisible="1"/>-->
                                    <!--</tree>-->
                                <!--</field>-->
                            <!--</page>-->
                            <page string="History use service"
                                  attrs="{'invisible': ['|',('serial','=', False),('check_card','=', False)]}">
                                <button name="action_print_history_use_service" class="oe_highlight" string="Print" type="object"/>
                                <field name="use_card_ids" readonly="1">
                                    <tree default_order='using_id desc' decoration-muted="state=='cancel'" decoration-it="state=='cancel'">
                                        <field name="order_id" string="Order" options="{'no_open':1}"/>
                                        <field name="using_id" string="Use Service" options="{'no_open':1}"/>
                                        <field name="redeem_date"/>
                                        <field name="employee"/>
                                        <field name="serial_id" options="{'no_open':1}"/>
                                        <field name="service_id" options="{'no_open':1}"/>
                                        <field name="uom_id" options="{'no_open':1}"/>
                                        <field name="quantity"/>
                                        <!--<field name="price_unit"/>-->
                                        <field name="state"/>
                                        <field name="customer_sign" widget="image" groups="pos_security.group_pos_supervisor_user"/>
                                        <field name="note"/>
                                    </tree>
                                    <form>
                                        <group>
                                            <group>
                                                <field name="order_id" string="Order" options="{'no_open':1}"/>
                                                <field name="using_id" string="Use Service"
                                                       context="{'form_view_ref':'izi_use_service_card.use_service_card_form'}" options="{'no_open':1}"/>
                                                <field name="redeem_date"/>
                                                <field name="employee"/>
                                            </group>
                                            <group>
                                                <field name="serial_id" options="{'no_open':1}"/>
                                                <field name="service_id" options="{'no_open':1}"/>
                                                <field name="uom_id" options="{'no_open':1}"/>
                                                <field name="quantity"/>
                                                <!--<field name="price_unit"/>-->
                                            </group>
                                            <label for="note"/>
                                            <field name="note"/>
                                        </group>
                                    </form>
                                </field>
                            </page>
                            <page string="History order"
                                  attrs="{'invisible': ['|',('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">
                                <field name="order_ids" readonly="1">
                                    <tree default_order='date_order desc'>
                                        <field name="order_id"/>
                                        <field name="date_order"/>
                                        <field name="user_id"/>
                                        <field name="product_id"/>
                                        <field name="lot_name"/>
                                        <field name="qty"/>
                                        <!--<field name="price_unit"/>-->
                                        <!--<field name="discount"/>-->
                                        <!--<field name="x_discount"/>-->
                                        <!--<field name="price_subtotal_incl"/>-->
                                        <field name="state"/>
                                        <field name="x_type" invisible="1"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Image" attrs="{'invisible': ['|', '|', ('is_load_image', '=', False), ('serial','=', False),'|',('check_card','=', False),('check_pmh','=', False)]}">
                                <field name="image_ids" readonly="1">
                                    <tree default_order='date desc'>
                                        <field name="use_service_id" options="{'no_open':1}"/>
                                        <field name="date"/>
                                        <field name="image" widget="image" style="max-width:430px;max-height:430px;"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="action_izi_product_search_card_default_user" model="ir.actions.act_window">
            <field name="name">Product serial search default user</field>
            <field name="res_model">izi.product.search.card</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="domain">[]</field>
            <field name="context">{}</field>
            <field name="target">inline</field>
        </record>

        <record model="ir.actions.act_window.view" id="izi_action_product_search_card_form_default_user">
            <field name="sequence" eval="2"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="izi_product_search_card_form_default_user"/>
            <field name="act_window_id" ref="action_izi_product_search_card_default_user"/>
        </record>

        <menuitem action="action_izi_product_search_card_default_user"
                  id="menu_action_izi_product_search_card_default_user" name="Product Serial Search Default User"
                  parent="izi_pos_custom_backend.izi_menu_res_partner_debt" sequence="61"/>

    </data>
</odoo>